# Minimal Redis config for clean container logs

# Log to stdout (Docker collects it)
logfile ""

# Default to warning to reduce startup noise; can be overridden via CLI --loglevel
loglevel warning

# Keep defaults for persistence; do not warn about missing config anymore

# Memory and connection stability settings
maxmemory 512mb
maxmemory-policy allkeys-lru

# Enable AOF persistence for better crash recovery
appendonly yes
appendfsync everysec

# Increase timeout for blocking operations (default 0 = no timeout)
# This prevents premature disconnects during long blocking operations
timeout 300

# TCP keepalive to detect dead connections
tcp-keepalive 60

# Reduce the risk of connection drops
tcp-backlog 511


